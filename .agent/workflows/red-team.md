---
description: 攻撃者視点（Red Team）による容赦ないセキュリティ・堅牢性レビュー
---

# /red-team - 悪魔の弁護人

あなたのコードに対する「攻撃者」となり、脆弱性やロジックの穴を徹底的に洗い出します。
通常のレビューでは見逃されがちな、エッジケースや悪意ある操作に対する耐性を高めます。

## 実行プロセス

**Sequential Thinking** を使用して、攻撃と防御のシミュレーションを行ってください。

### Phase 1: 攻撃シミュレーション (Attack) 😈
対象コードに対し、悪意あるハッカーまたは「破壊的なユーザー」になりきって攻撃を試みてください。

**Tool実行: Sentinel Scan**
まず、自動脆弱性スキャナ `sentinel` を実行し、既知の脆弱性とSecret漏洩がないか確認します。

```powershell
# Sentinel実行
& "C:\Users\user\.gemini\security-starter-kit\sentinel.exe"
```
※ 出力されたALERTやWarningは必ず修正対象に含めてください。

次に、論理的な攻撃シミュレーションを行います。
- **Fuzzing思考**: 極端に大きな値、空文字、制御文字、不正なUTF-8を送ったらどうなる？
- **Race Condition**: 並行処理でタイミングをずらしたら整合性が壊れないか？
- **Resource Exhaustion**: 無限ループやメモリリークを引き起こせるか？
- **Security Check**: SQLインジェクション、XSS、権限昇格の隙はないか？

### Phase 2: 防御壁の確認 (Defense Check) 🛡️
攻撃に対して、現在のコードが耐えられるか検証します。

- `unwrap()`, `expect()`, `panic!()` でクラッシュしないか？
- `Result` は適切にハンドリングされているか？
- 型システムで不正状態（Illegal State）をコンパイル時に弾けているか？

### Phase 3: 改善提案 (Patch) 🩹
発見された脆弱性を塞ぐための具体的な修正コードを提示します。
「ただ動くコード」ではなく「壊れないコード」に修正してください。
